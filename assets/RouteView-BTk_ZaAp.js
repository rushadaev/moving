import{d as b,r as a,o as M,l as R,c as p,a as c,H as y,b as e,t as r,w as I,e as U,u as A,f as h,F as D,_ as E}from"./index-C_3zi44G.js";import{G as F,M as B}from"./MapInfoWindow-B8nc4wr5.js";const N={class:"route-view"},V={class:"p-0"},Z={class:"map-container relative",style:{height:"calc(100vh - 150px)"}},q={class:"floating-route-info"},L={class:"bg-white bg-opacity-90 rounded-lg p-3 shadow-sm"},S={class:"grid grid-cols-2 gap-4 mb-2"},T={class:"font-medium"},W={class:"font-medium"},z={class:"floating-addresses"},G={class:"bg-white bg-opacity-90 rounded-lg p-3 shadow-sm"},H={class:"mb-3"},P={class:"font-medium"},j={class:"font-medium"},J={key:0,class:"absolute bottom-24 left-0 right-0 flex justify-center"},O=b({__name:"RouteView",setup($){const _=A(),s=a(null),v=a({lat:40.7128,lng:-74.006}),f=a(12),o=a([]),l=a(null),m=a(!1),w=a("12.5 km"),C=a("45 min");M(()=>{var t,d;const i=localStorage.getItem("selectedRequest");if(i){if(s.value=JSON.parse(i),(t=s.value)!=null&&t.loadingAddress&&((d=s.value)!=null&&d.unloadingAddress)){o.value=[{position:{lat:40.7128,lng:-74.006},title:"Loading Point",address:s.value.loadingAddress,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#5D87EE">
                <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z"/>
              </svg>
            `)}},{position:{lat:40.7328,lng:-73.996},title:"Unloading Point",address:s.value.unloadingAddress,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#F97066">
                <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z"/>
              </svg>
            `)}}];const n=(o.value[0].position.lat+o.value[1].position.lat)/2,u=(o.value[0].position.lng+o.value[1].position.lng)/2;v.value={lat:n,lng:u}}}else _.push("/");document.addEventListener("marker-click",n=>{x(n.detail)})}),R(()=>{document.removeEventListener("marker-click",()=>{})});const x=i=>{l.value=i,m.value=!0},k=()=>{m.value=!1,l.value=null};return(i,t)=>{var d,n,u,g;return h(),p("div",N,[c(y,{title:s.value?`Route for ${s.value.requestNumber}`:"Route"},null,8,["title"]),e("main",V,[e("div",Z,[c(F,{height:"100%",center:v.value,zoom:f.value,markers:o.value,showRoute:!0,origin:(d=o.value[0])==null?void 0:d.position,destination:(n=o.value[1])==null?void 0:n.position},null,8,["center","zoom","markers","origin","destination"]),e("div",q,[e("div",L,[t[2]||(t[2]=e("h2",{class:"font-semibold mb-2"},"Route Details",-1)),e("div",S,[e("div",null,[t[0]||(t[0]=e("span",{class:"text-gray-500 text-sm"},"Distance",-1)),e("p",T,r(w.value),1)]),e("div",null,[t[1]||(t[1]=e("span",{class:"text-gray-500 text-sm"},"Estimated time",-1)),e("p",W,r(C.value),1)])])])]),e("div",z,[e("div",G,[e("div",H,[t[3]||(t[3]=e("span",{class:"text-gray-500 text-sm"},"From",-1)),e("p",P,r(((u=s.value)==null?void 0:u.loadingAddress)||"Loading address"),1)]),e("div",null,[t[4]||(t[4]=e("span",{class:"text-gray-500 text-sm"},"To",-1)),e("p",j,r(((g=s.value)==null?void 0:g.unloadingAddress)||"Unloading address"),1)])])]),m.value&&l.value?(h(),p("div",J,[c(B,{title:l.value.title,onClose:k},{default:I(()=>[e("p",null,r(l.value.address),1)]),_:1},8,["title"])])):U("",!0)])]),c(D)])}}}),X=E(O,[["__scopeId","data-v-68adb06c"]]);export{X as default};
