import{d as b,r as a,l as M,Y as R,a as g,b as c,H as y,e as t,t as r,h as I,f as U,j as A,o as x,F as D,_ as E}from"./index-4gi88XVp.js";import{G as F,M as B}from"./MapInfoWindow-C__ULkwy.js";const N={class:"route-view"},V={class:"p-0 pb-24"},Z={class:"map-container relative",style:{height:"calc(100vh - 150px)"}},q={class:"floating-route-info"},L={class:"bg-[var(--color-background)] rounded-lg p-3 shadow-sm"},S={class:"grid grid-cols-2 gap-4 mb-2"},T={class:"text-[var(--color-text)] font-medium"},W={class:"text-[var(--color-text)] font-medium"},j={class:"floating-addresses"},z={class:"bg-[var(--color-background)] rounded-lg p-3 shadow-sm"},G={class:"mb-3"},H={class:"text-[var(--color-text)] font-medium"},P={class:"text-[var(--color-text)] font-medium"},J={key:0,class:"absolute bottom-24 left-0 right-0 flex justify-center"},O=b({__name:"RouteView",setup(Y){const h=A(),o=a(null),m=a({lat:40.7128,lng:-74.006}),_=a(12),s=a([]),n=a(null),v=a(!1),f=a("12.5 km"),C=a("45 min");M(()=>{var e,d;const i=localStorage.getItem("selectedRequest");if(i){if(o.value=JSON.parse(i),(e=o.value)!=null&&e.loadingAddress&&((d=o.value)!=null&&d.unloadingAddress)){s.value=[{position:{lat:40.7128,lng:-74.006},title:"Loading Point",address:o.value.loadingAddress,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#5D87EE">
                <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z"/>
              </svg>
            `)}},{position:{lat:40.7328,lng:-73.996},title:"Unloading Point",address:o.value.unloadingAddress,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#F97066">
                <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z"/>
              </svg>
            `)}}];const l=(s.value[0].position.lat+s.value[1].position.lat)/2,u=(s.value[0].position.lng+s.value[1].position.lng)/2;m.value={lat:l,lng:u}}}else h.push("/");document.addEventListener("marker-click",l=>{w(l.detail)})}),R(()=>{document.removeEventListener("marker-click",()=>{})});const w=i=>{n.value=i,v.value=!0},k=()=>{v.value=!1,n.value=null};return(i,e)=>{var d,l,u,p;return x(),g("div",N,[c(y,{title:o.value?`Route for ${o.value.requestNumber}`:"Route"},null,8,["title"]),t("main",V,[t("div",Z,[c(F,{height:"100%",center:m.value,zoom:_.value,markers:s.value,showRoute:!0,origin:(d=s.value[0])==null?void 0:d.position,destination:(l=s.value[1])==null?void 0:l.position},null,8,["center","zoom","markers","origin","destination"]),t("div",q,[t("div",L,[e[2]||(e[2]=t("h2",{class:"text-[var(--color-text)] font-semibold mb-2"},"Route Details",-1)),t("div",S,[t("div",null,[e[0]||(e[0]=t("span",{class:"text-[var(--color-text)] opacity-60 text-sm"},"Distance",-1)),t("p",T,r(f.value),1)]),t("div",null,[e[1]||(e[1]=t("span",{class:"text-[var(--color-text)] opacity-60 text-sm"},"Estimated time",-1)),t("p",W,r(C.value),1)])])])]),t("div",j,[t("div",z,[t("div",G,[e[3]||(e[3]=t("span",{class:"text-[var(--color-text)] opacity-60 text-sm"},"From",-1)),t("p",H,r(((u=o.value)==null?void 0:u.loadingAddress)||"Loading address"),1)]),t("div",null,[e[4]||(e[4]=t("span",{class:"text-[var(--color-text)] opacity-60 text-sm"},"To",-1)),t("p",P,r(((p=o.value)==null?void 0:p.unloadingAddress)||"Unloading address"),1)])])]),v.value&&n.value?(x(),g("div",J,[c(B,{title:n.value.title,onClose:k},{default:I(()=>[t("p",null,r(n.value.address),1)]),_:1},8,["title"])])):U("",!0)])]),c(D)])}}}),Q=E(O,[["__scopeId","data-v-13284a15"]]);export{Q as default};
