import{h as Ie,i as He,d as D,r as c,j as Ce,k as P,l as xe,m as Fe,n as Oe,p as j,q as Ae,s as te,v as de,x as fe,y as x,T as $e,z as Ne,A as h,B as oe,C as E,D as L,E as Y,G as ke,I as Le,J as ve,K as Pe,L as X,M as De,f as V,c as I,N as We,O as je,_ as K,b as r,t as Z,P as ne,w as S,a as p,g as H,Q as ue,o as qe,R as Ye,H as Xe,e as Q,S as he,U as ge,V as Ze,W as be,u as Ge,F as Ke}from"./index-CboDvAfZ.js";import{G as Je,M as Qe}from"./MapInfoWindow-CDB1WAAZ.js";import{G as ee}from"./GradientButton-MEM5p9MV.js";import{s as et,d as ce,c as tt,u as ot,a as nt,p as rt,m as at,F as st,S as Se,f as lt,b as pe,e as it,L as dt,g as ut,z as ct,N as mt,M as me,T as Me}from"./TextField-rTDngMf7.js";const ft=/^(\d|\.)+$/,we=/(\d|\.)+/;function ye(e,{c:o=1,offset:t=0,attachPx:l=!0}={}){if(typeof e=="number"){const n=(e+t)*o;return n===0?"0":`${n}px`}else if(typeof e=="string")if(ft.test(e)){const n=(Number(e)+t)*o;return l?n===0?"0":`${n}px`:`${n}`}else{const n=we.exec(e);return n?e.replace(we,String((Number(n[0])+t)*o)):e}return e}function vt(e){const{modalColor:o,textColor1:t,textColor2:l,boxShadow3:n,lineHeight:d,fontWeightStrong:u,dividerColor:g,closeColorHover:b,closeColorPressed:f,closeIconColor:v,closeIconColorHover:s,closeIconColorPressed:y,borderRadius:B,primaryColorHover:C}=e;return{bodyPadding:"16px 24px",borderRadius:B,headerPadding:"16px 24px",footerPadding:"16px 24px",color:o,textColor:l,titleTextColor:t,titleFontSize:"18px",titleFontWeight:u,boxShadow:n,lineHeight:d,headerBorderBottom:`1px solid ${g}`,footerBorderTop:`1px solid ${g}`,closeIconColor:v,closeIconColorHover:s,closeIconColorPressed:y,closeSize:"22px",closeIconSize:"18px",closeColorHover:b,closeColorPressed:f,closeBorderRadius:B,resizableTriggerColorHover:C}}const ht=Ie({name:"Drawer",common:He,peers:{Scrollbar:et},self:vt}),gt=D({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentClass:String,contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(e){const o=c(!!e.show),t=c(null),l=Ce(ce);let n=0,d="",u=null;const g=c(!1),b=c(!1),f=P(()=>e.placement==="top"||e.placement==="bottom"),{mergedClsPrefixRef:v,mergedRtlRef:s}=xe(e),y=Fe("Drawer",s,v),B=i,C=m=>{b.value=!0,n=f.value?m.clientY:m.clientX,d=document.body.style.cursor,document.body.style.cursor=f.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",U),document.body.addEventListener("mouseleave",B),document.body.addEventListener("mouseup",i)},q=()=>{u!==null&&(window.clearTimeout(u),u=null),b.value?g.value=!0:u=window.setTimeout(()=>{g.value=!0},300)},J=()=>{u!==null&&(window.clearTimeout(u),u=null),g.value=!1},{doUpdateHeight:F,doUpdateWidth:O}=l,A=m=>{const{maxWidth:$}=e;if($&&m>$)return $;const{minWidth:_}=e;return _&&m<_?_:m},G=m=>{const{maxHeight:$}=e;if($&&m>$)return $;const{minHeight:_}=e;return _&&m<_?_:m};function U(m){var $,_;if(b.value)if(f.value){let R=(($=t.value)===null||$===void 0?void 0:$.offsetHeight)||0;const N=n-m.clientY;R+=e.placement==="bottom"?N:-N,R=G(R),F(R),n=m.clientY}else{let R=((_=t.value)===null||_===void 0?void 0:_.offsetWidth)||0;const N=n-m.clientX;R+=e.placement==="right"?N:-N,R=A(R),O(R),n=m.clientX}}function i(){b.value&&(n=0,b.value=!1,document.body.style.cursor=d,document.body.removeEventListener("mousemove",U),document.body.removeEventListener("mouseup",i),document.body.removeEventListener("mouseleave",B))}Oe(()=>{e.show&&(o.value=!0)}),j(()=>e.show,m=>{m||i()}),Ae(()=>{i()});const w=P(()=>{const{show:m}=e,$=[[fe,m]];return e.showMask||$.push([tt,e.onClickoutside,void 0,{capture:!0}]),$});function M(){var m;o.value=!1,(m=e.onAfterLeave)===null||m===void 0||m.call(e)}return ot(P(()=>e.blockScroll&&o.value)),te(nt,t),te(rt,null),te(at,null),{bodyRef:t,rtlEnabled:y,mergedClsPrefix:l.mergedClsPrefixRef,isMounted:l.isMountedRef,mergedTheme:l.mergedThemeRef,displayed:o,transitionName:P(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[e.placement]),handleAfterLeave:M,bodyDirectives:w,handleMousedownResizeTrigger:C,handleMouseenterResizeTrigger:q,handleMouseleaveResizeTrigger:J,isDragging:b,isHoverOnResizeTrigger:g}},render(){const{$slots:e,mergedClsPrefix:o}=this;return this.displayDirective==="show"||this.displayed||this.show?de(x("div",{role:"none"},x(st,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>x($e,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>de(x("div",Ne(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${o}-drawer`,this.rtlEnabled&&`${o}-drawer--rtl`,`${o}-drawer--${this.placement}-placement`,this.isDragging&&`${o}-drawer--unselectable`,this.nativeScrollbar&&`${o}-drawer--native-scrollbar`]}),[this.resizable?x("div",{class:[`${o}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${o}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?x("div",{class:[`${o}-drawer-content-wrapper`,this.contentClass],style:this.contentStyle,role:"none"},e):x(Se,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:[`${o}-drawer-content-wrapper`,this.contentClass],theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),e)]),this.bodyDirectives)})})),[[fe,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:bt,cubicBezierEaseOut:pt}=oe;function wt({duration:e="0.3s",leaveDuration:o="0.2s",name:t="slide-in-from-bottom"}={}){return[h(`&.${t}-transition-leave-active`,{transition:`transform ${o} ${bt}`}),h(`&.${t}-transition-enter-active`,{transition:`transform ${e} ${pt}`}),h(`&.${t}-transition-enter-to`,{transform:"translateY(0)"}),h(`&.${t}-transition-enter-from`,{transform:"translateY(100%)"}),h(`&.${t}-transition-leave-from`,{transform:"translateY(0)"}),h(`&.${t}-transition-leave-to`,{transform:"translateY(100%)"})]}const{cubicBezierEaseIn:yt,cubicBezierEaseOut:Ct}=oe;function xt({duration:e="0.3s",leaveDuration:o="0.2s",name:t="slide-in-from-left"}={}){return[h(`&.${t}-transition-leave-active`,{transition:`transform ${o} ${yt}`}),h(`&.${t}-transition-enter-active`,{transition:`transform ${e} ${Ct}`}),h(`&.${t}-transition-enter-to`,{transform:"translateX(0)"}),h(`&.${t}-transition-enter-from`,{transform:"translateX(-100%)"}),h(`&.${t}-transition-leave-from`,{transform:"translateX(0)"}),h(`&.${t}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:$t,cubicBezierEaseOut:kt}=oe;function St({duration:e="0.3s",leaveDuration:o="0.2s",name:t="slide-in-from-right"}={}){return[h(`&.${t}-transition-leave-active`,{transition:`transform ${o} ${$t}`}),h(`&.${t}-transition-enter-active`,{transition:`transform ${e} ${kt}`}),h(`&.${t}-transition-enter-to`,{transform:"translateX(0)"}),h(`&.${t}-transition-enter-from`,{transform:"translateX(100%)"}),h(`&.${t}-transition-leave-from`,{transform:"translateX(0)"}),h(`&.${t}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:Mt,cubicBezierEaseOut:zt}=oe;function Bt({duration:e="0.3s",leaveDuration:o="0.2s",name:t="slide-in-from-top"}={}){return[h(`&.${t}-transition-leave-active`,{transition:`transform ${o} ${Mt}`}),h(`&.${t}-transition-enter-active`,{transition:`transform ${e} ${zt}`}),h(`&.${t}-transition-enter-to`,{transform:"translateY(0)"}),h(`&.${t}-transition-enter-from`,{transform:"translateY(-100%)"}),h(`&.${t}-transition-leave-from`,{transform:"translateY(0)"}),h(`&.${t}-transition-leave-to`,{transform:"translateY(-100%)"})]}const _t=h([E("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[St(),xt(),Bt(),wt(),L("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),L("native-scrollbar",[E("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),Y("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[L("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),E("drawer-content-wrapper",`
 box-sizing: border-box;
 `),E("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[L("native-scrollbar",[E("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),E("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),E("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),E("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[Y("main",`
 flex: 1;
 `),Y("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),E("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),L("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-bottom-left-radius: var(--n-border-radius);
 `,[Y("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),L("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 border-top-right-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[Y("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),L("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[Y("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),L("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-top-right-radius: var(--n-border-radius);
 `,[Y("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),h("body",[h(">",[E("drawer-container",`
 position: fixed;
 `)])]),E("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[h("> *",`
 pointer-events: all;
 `)]),E("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[L("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),lt({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),Vt=Object.assign(Object.assign({},ke.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentClass:String,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),Rt=D({name:"Drawer",inheritAttrs:!1,props:Vt,setup(e){const{mergedClsPrefixRef:o,namespaceRef:t,inlineThemeDisabled:l}=xe(e),n=Le(),d=ke("Drawer","-drawer",_t,ht,e,o),u=c(e.defaultWidth),g=c(e.defaultHeight),b=pe(ve(e,"width"),u),f=pe(ve(e,"height"),g),v=P(()=>{const{placement:i}=e;return i==="top"||i==="bottom"?"":ye(b.value)}),s=P(()=>{const{placement:i}=e;return i==="left"||i==="right"?"":ye(f.value)}),y=i=>{const{onUpdateWidth:w,"onUpdate:width":M}=e;w&&X(w,i),M&&X(M,i),u.value=i},B=i=>{const{onUpdateHeight:w,"onUpdate:width":M}=e;w&&X(w,i),M&&X(M,i),g.value=i},C=P(()=>[{width:v.value,height:s.value},e.drawerStyle||""]);function q(i){const{onMaskClick:w,maskClosable:M}=e;M&&A(!1),w&&w(i)}function J(i){q(i)}const F=it();function O(i){var w;(w=e.onEsc)===null||w===void 0||w.call(e),e.show&&e.closeOnEsc&&ut(i)&&(F.value||A(!1))}function A(i){const{onHide:w,onUpdateShow:M,"onUpdate:show":m}=e;M&&X(M,i),m&&X(m,i),w&&!i&&X(w,i)}te(ce,{isMountedRef:n,mergedThemeRef:d,mergedClsPrefixRef:o,doUpdateShow:A,doUpdateHeight:B,doUpdateWidth:y});const G=P(()=>{const{common:{cubicBezierEaseInOut:i,cubicBezierEaseIn:w,cubicBezierEaseOut:M},self:{color:m,textColor:$,boxShadow:_,lineHeight:R,headerPadding:N,footerPadding:re,borderRadius:ae,bodyPadding:se,titleFontSize:le,titleTextColor:k,titleFontWeight:a,headerBorderBottom:T,footerBorderTop:W,closeIconColor:z,closeIconColorHover:ze,closeIconColorPressed:Be,closeColorHover:_e,closeColorPressed:Ve,closeIconSize:Re,closeSize:Te,closeBorderRadius:Ee,resizableTriggerColorHover:Ue}}=d.value;return{"--n-line-height":R,"--n-color":m,"--n-border-radius":ae,"--n-text-color":$,"--n-box-shadow":_,"--n-bezier":i,"--n-bezier-out":M,"--n-bezier-in":w,"--n-header-padding":N,"--n-body-padding":se,"--n-footer-padding":re,"--n-title-text-color":k,"--n-title-font-size":le,"--n-title-font-weight":a,"--n-header-border-bottom":T,"--n-footer-border-top":W,"--n-close-icon-color":z,"--n-close-icon-color-hover":ze,"--n-close-icon-color-pressed":Be,"--n-close-size":Te,"--n-close-color-hover":_e,"--n-close-color-pressed":Ve,"--n-close-icon-size":Re,"--n-close-border-radius":Ee,"--n-resize-trigger-color-hover":Ue}}),U=l?Pe("drawer",void 0,G,e):void 0;return{mergedClsPrefix:o,namespace:t,mergedBodyStyle:C,handleOutsideClick:J,handleMaskClick:q,handleEsc:O,mergedTheme:d,cssVars:l?void 0:G,themeClass:U==null?void 0:U.themeClass,onRender:U==null?void 0:U.onRender,isMounted:n}},render(){const{mergedClsPrefix:e}=this;return x(dt,{to:this.to,show:this.show},{default:()=>{var o;return(o=this.onRender)===null||o===void 0||o.call(this),de(x("div",{class:[`${e}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?x($e,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?x("div",{"aria-hidden":!0,class:[`${e}-drawer-mask`,this.showMask==="transparent"&&`${e}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,x(gt,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,contentClass:this.contentClass,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,maxHeight:this.maxHeight,minHeight:this.minHeight,maxWidth:this.maxWidth,minWidth:this.minWidth,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleOutsideClick}),this.$slots)),[[ct,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Tt={title:String,headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],bodyClass:String,bodyStyle:[Object,String],bodyContentClass:String,bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Et=D({name:"DrawerContent",props:Tt,slots:Object,setup(){const e=Ce(ce,null);e||De("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:o}=e;function t(){o(!1)}return{handleCloseClick:t,mergedTheme:e.mergedThemeRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{title:e,mergedClsPrefix:o,nativeScrollbar:t,mergedTheme:l,bodyClass:n,bodyStyle:d,bodyContentClass:u,bodyContentStyle:g,headerClass:b,headerStyle:f,footerClass:v,footerStyle:s,scrollbarProps:y,closable:B,$slots:C}=this;return x("div",{role:"none",class:[`${o}-drawer-content`,t&&`${o}-drawer-content--native-scrollbar`]},C.header||e||B?x("div",{class:[`${o}-drawer-header`,b],style:f,role:"none"},x("div",{class:`${o}-drawer-header__main`,role:"heading","aria-level":"1"},C.header!==void 0?C.header():e),B&&x(mt,{onClick:this.handleCloseClick,clsPrefix:o,class:`${o}-drawer-header__close`,absolute:!0})):null,t?x("div",{class:[`${o}-drawer-body`,n],style:d,role:"none"},x("div",{class:[`${o}-drawer-body-content-wrapper`,u],style:g,role:"none"},C)):x(Se,Object.assign({themeOverrides:l.peerOverrides.Scrollbar,theme:l.peers.Scrollbar},y,{class:`${o}-drawer-body`,contentClass:[`${o}-drawer-body-content-wrapper`,u],contentStyle:g}),C),C.footer?x("div",{class:[`${o}-drawer-footer`,v],style:s,role:"none"},C.footer()):null)}}),Ut=["disabled"],It=D({__name:"SecondaryButton",props:{disabled:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}},emits:["click"],setup(e){return(o,t)=>(V(),I("button",{class:je(["secondary-button",{disabled:e.disabled},{"full-width":e.fullWidth}]),disabled:e.disabled,onClick:t[0]||(t[0]=l=>o.$emit("click",l))},[We(o.$slots,"default",{},void 0,!0)],10,Ut))}}),ie=K(It,[["__scopeId","data-v-0f86604f"]]),Ht={class:"material-counter bg-[var(--color-background)]"},Ft={class:"material-name"},Ot={class:"counter-controls"},At=["disabled"],Nt={class:"counter-value"},Lt=["disabled"],Pt=D({__name:"MaterialCounter",props:{name:{type:String,required:!0},initialCount:{type:Number,default:0},disabled:{type:Boolean,default:!1}},emits:["update:count"],setup(e,{emit:o}){const t=e,l=o,n=c(t.initialCount);j(()=>t.initialCount,g=>{n.value=g});const d=()=>{n.value++,l("update:count",{name:t.name,count:n.value})},u=()=>{n.value>0&&(n.value--,l("update:count",{name:t.name,count:n.value}))};return(g,b)=>(V(),I("div",Ht,[r("div",Ft,Z(e.name),1),r("div",Ot,[r("button",{class:"counter-btn",onClick:d,disabled:e.disabled}," + ",8,At),r("span",Nt,Z(n.value),1),r("button",{class:"counter-btn",onClick:u,disabled:e.disabled||n.value===0}," - ",8,Lt)])]))}}),Dt=K(Pt,[["__scopeId","data-v-f25cdc39"]]),Wt={class:"change-movers-form"},jt={class:"form-group"},qt={class:"input-with-label"},Yt={class:"action-buttons"},Xt=D({__name:"ChangeMoversModal",props:{modelValue:{type:Boolean,default:!1},currentMovers:{type:Number,default:2}},emits:["update:modelValue","confirm","cancel"],setup(e,{emit:o}){const t=e,l=o,n=c(t.modelValue),d=c(t.currentMovers.toString()),u=c(!0);j(()=>t.modelValue,v=>{n.value=v,v&&(d.value=t.currentMovers.toString(),g())}),j(n,v=>{l("update:modelValue",v)});const g=()=>{const v=parseInt(d.value);u.value=!isNaN(v)&&v>0},b=()=>{n.value=!1,l("cancel")},f=()=>{u.value&&(l("confirm",parseInt(d.value)),n.value=!1)};return(v,s)=>(V(),ne(me,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=y=>n.value=y),title:"Change number of movers"},{default:S(()=>[r("div",Wt,[r("div",jt,[s[3]||(s[3]=r("label",null,"New number",-1)),r("div",qt,[p(Me,{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=y=>d.value=y),type:"number",min:"1",onInput:g},null,8,["modelValue"]),s[2]||(s[2]=r("span",{class:"input-label"},"movers",-1))])]),r("div",Yt,[p(ue,{onClick:b},{default:S(()=>s[4]||(s[4]=[H("Cancel")])),_:1}),p(ee,{onClick:f,disabled:!u.value},{default:S(()=>s[5]||(s[5]=[H("Confirm")])),_:1},8,["disabled"])])])]),_:1},8,["modelValue"]))}}),Zt=K(Xt,[["__scopeId","data-v-d610dfa3"]]),Gt={class:"add-material-form"},Kt={class:"form-group"},Jt={class:"action-buttons"},Qt=D({__name:"AddMaterialModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","add","cancel"],setup(e,{emit:o}){const t=e,l=o,n=c(t.modelValue),d=c(""),u=c(!1);j(()=>t.modelValue,v=>{n.value=v,v&&(d.value="",g())}),j(n,v=>{l("update:modelValue",v)});const g=()=>{u.value=d.value.trim().length>0},b=()=>{n.value=!1,l("cancel")},f=()=>{u.value&&(l("add",d.value.trim()),n.value=!1)};return(v,s)=>(V(),ne(me,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=y=>n.value=y),title:"Add material"},{default:S(()=>[r("div",Gt,[r("div",Kt,[s[2]||(s[2]=r("label",null,"Material name",-1)),p(Me,{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=y=>d.value=y),placeholder:"Type here",onInput:g},null,8,["modelValue"])]),r("div",Jt,[p(ue,{onClick:b},{default:S(()=>s[3]||(s[3]=[H("Cancel")])),_:1}),p(ee,{onClick:f,disabled:!u.value},{default:S(()=>s[4]||(s[4]=[H("Add")])),_:1},8,["disabled"])])])]),_:1},8,["modelValue"]))}}),eo=K(Qt,[["__scopeId","data-v-25d683de"]]),to={class:"unload-load-form"},oo={class:"operation-buttons"},no={class:"cancel-button mt-4"},ro=D({__name:"UnloadLoadModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","unload","load","cancel"],setup(e,{emit:o}){const t=e,l=o,n=c(t.modelValue);j(()=>t.modelValue,b=>{n.value=b}),j(n,b=>{l("update:modelValue",b)});const d=()=>{l("unload"),n.value=!1},u=()=>{l("load"),n.value=!1},g=()=>{n.value=!1,l("cancel")};return(b,f)=>(V(),ne(me,{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=v=>n.value=v),title:"Unload/Load"},{default:S(()=>[r("div",to,[f[4]||(f[4]=r("div",{class:"status-message"},[r("p",null,"Select an operation to perform:")],-1)),r("div",oo,[p(ee,{onClick:d,class:"mb-3"},{default:S(()=>f[1]||(f[1]=[H(" Unload at current location ")])),_:1}),p(ee,{onClick:u},{default:S(()=>f[2]||(f[2]=[H(" Load from current location ")])),_:1})]),r("div",no,[p(ue,{onClick:g,class:"w-full"},{default:S(()=>f[3]||(f[3]=[H("Cancel")])),_:1})])])]),_:1},8,["modelValue"]))}}),ao=K(ro,[["__scopeId","data-v-566dd781"]]),so={class:"tracking-view"},lo={class:"p-0 pb-24"},io={key:0,class:"status-message"},uo={class:"map-container relative",style:{height:"calc(100vh - 150px)"}},co={class:"floating-time-cards"},mo={class:"bg-[var(--color-background)] rounded-lg p-3 shadow-sm flex-1 mr-2"},fo={class:"text-[var(--color-text)] font-medium"},vo={class:"bg-[var(--color-background)] rounded-lg p-3 shadow-sm flex-1 ml-2"},ho={class:"text-[var(--color-text)] font-medium"},go={key:0,class:"floating-addresses"},bo={class:"bg-[var(--color-background)] rounded-lg p-3 shadow-sm"},po={key:1,class:"absolute bottom-24 left-0 right-0 flex justify-center"},wo={class:"floating-action-buttons"},yo={class:"mb-4"},Co={class:"materials-list"},xo={key:0,class:"action-buttons"},$o={class:"grid grid-cols-2 gap-3"},ko={class:"footer-container"},So=D({__name:"TrackingView",setup(e){const o=Ge(),t=c(null),l=c("12:00"),n=c("45:54"),d=c(!1),u=c(!1),g=c(2),b=c(!1),f=c(!1),v=c(!1),s=c(!1),y=c(!1),B=c([{id:1,address:"Address 1"},{id:2,address:"Address 2"}]),C=c([{id:1,name:"Material 1",count:3},{id:2,name:"Material 2",count:3},{id:3,name:"Material 3",count:3}]),q=c({lat:40.7128,lng:-74.006}),J=c(12),F=c([]),O=c(null),A=c(!1),G=P(()=>d.value?u.value?"Continue":s.value?"Complete request":"Take a break":"Start moving"),U=()=>{var k;d.value?u.value?(u.value=!1,console.log("Continuing after break")):s.value?i():(u.value=!0,console.log("Taking a break")):(d.value=!0,console.log("Started moving with request:",(k=t.value)==null?void 0:k.requestNumber))},i=()=>{console.log("Completing request with materials:",C.value),o.push("/")},w=()=>{b.value=!0},M=k=>{g.value=k,console.log("Number of movers changed to:",k)},m=()=>{f.value=!0},$=k=>{const a=C.value.length>0?Math.max(...C.value.map(T=>T.id))+1:1;C.value.push({id:a,name:k,count:0}),console.log("Material added:",k)},_=({name:k,count:a})=>{const T=C.value.find(W=>W.name===k);T&&(T.count=a)},R=()=>{v.value=!0},N=()=>{console.log("Unload operation triggered"),s.value=!0},re=()=>{console.log("Load operation triggered")},ae=()=>{y.value=!y.value},se=k=>{O.value=k,A.value=!0},le=()=>{A.value=!1,O.value=null};return qe(()=>{var a,T;const k=localStorage.getItem("selectedRequest");k?(t.value=JSON.parse(k),(a=t.value)!=null&&a.loadingAddress&&(B.value=[],B.value.push({id:1,address:t.value.loadingAddress}),(T=t.value)!=null&&T.unloadingAddress&&B.value.push({id:2,address:t.value.unloadingAddress}),F.value=[{position:{lat:40.7128,lng:-74.006},title:"Loading Point",icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#5D87EE">
                <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z"/>
              </svg>
            `)}},{position:{lat:40.7328,lng:-73.996},title:"Unloading Point",icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#F97066">
                <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z"/>
              </svg>
            `)}}],q.value=F.value[0].position)):o.push("/"),document.addEventListener("marker-click",W=>{se(W.detail)})}),Ye(()=>{document.removeEventListener("marker-click",()=>{})}),(k,a)=>{var T,W;return V(),I("div",so,[p(Xe,{title:t.value?t.value.requestNumber:"Request number"},null,8,["title"]),r("main",lo,[u.value?(V(),I("div",io,a[4]||(a[4]=[r("div",{class:"bg-[var(--color-primary-soft)] text-[var(--color-primary)] p-3 text-center rounded-lg mx-4 my-2"}," You took a break ",-1)]))):Q("",!0),r("div",uo,[p(Je,{height:"100%",center:q.value,zoom:J.value,markers:F.value,showRoute:!0,origin:(T=F.value[0])==null?void 0:T.position,destination:(W=F.value[1])==null?void 0:W.position},null,8,["center","zoom","markers","origin","destination"]),r("div",co,[r("div",mo,[a[5]||(a[5]=r("h2",{class:"text-[var(--color-text)] opacity-60 text-sm"},"Departure time",-1)),r("p",fo,Z(l.value),1)]),r("div",vo,[a[6]||(a[6]=r("h2",{class:"text-[var(--color-text)] opacity-60 text-sm"},"Travel time",-1)),r("p",ho,Z(n.value),1)])]),d.value?(V(),I("div",go,[r("div",bo,[a[7]||(a[7]=r("h2",{class:"text-[var(--color-text)] opacity-60 text-sm mb-2"},"Unloading point",-1)),(V(!0),I(he,null,ge(B.value,z=>(V(),I("div",{key:z.id,class:"text-[var(--color-text)] font-medium mb-1"},Z(z.address),1))),128))])])):Q("",!0),A.value&&O.value?(V(),I("div",po,[p(Qe,{title:O.value.title,onClose:le},{actions:S(()=>a[8]||(a[8]=[r("button",{class:"text-[var(--color-primary)] text-sm font-medium"},"View Details",-1)])),default:S(()=>[r("p",null,Z(O.value.address),1)]),_:1},8,["title"])])):Q("",!0),a[10]||(a[10]=r("div",{class:"absolute bottom-24 left-0 right-0 flex justify-center"},[r("div",{class:"w-16 h-1 bg-[var(--color-primary)] rounded-full"})],-1)),r("div",wo,[d.value?(V(),I("button",{key:0,onClick:ae,class:"materials-button"},a[9]||(a[9]=[Ze('<div class="flex items-center justify-center" data-v-80e75082><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-80e75082><path d="M19 13H5V11H19V13Z" fill="currentColor" data-v-80e75082></path><path d="M19 17H5V15H19V17Z" fill="currentColor" data-v-80e75082></path><path d="M19 9H5V7H19V9Z" fill="currentColor" data-v-80e75082></path></svg><span class="ml-2" data-v-80e75082>Materials &amp; Controls</span></div>',1)]))):Q("",!0),p(ee,{onClick:U,class:"w-full mt-2"},{default:S(()=>[H(Z(G.value),1)]),_:1})])])]),p(be(Rt),{show:y.value,"onUpdate:show":a[0]||(a[0]=z=>y.value=z),height:d.value?340:0,placement:"bottom","trap-focus":!1},{default:S(()=>[p(be(Et),{closable:"",class:"drawer-content bg-[var(--color-background)]"},{default:S(()=>[r("div",yo,[a[11]||(a[11]=r("h2",{class:"text-[var(--color-text)] opacity-60 text-sm mb-2"},"Used materials",-1)),r("div",Co,[(V(!0),I(he,null,ge(C.value,z=>(V(),ne(Dt,{key:z.id,name:z.name,"initial-count":z.count,"onUpdate:count":_},null,8,["name","initial-count"]))),128))])]),s.value?Q("",!0):(V(),I("div",xo,[r("div",$o,[p(ie,{onClick:m},{default:S(()=>a[12]||(a[12]=[H(" Add materials ")])),_:1}),p(ie,{onClick:R},{default:S(()=>a[13]||(a[13]=[H(" Unload/Load ")])),_:1}),p(ie,{onClick:w,class:"col-span-2"},{default:S(()=>a[14]||(a[14]=[H(" Change number of movers ")])),_:1})])]))]),_:1})]),_:1},8,["show","height"]),p(Zt,{modelValue:b.value,"onUpdate:modelValue":a[1]||(a[1]=z=>b.value=z),"current-movers":g.value,onConfirm:M},null,8,["modelValue","current-movers"]),p(eo,{modelValue:f.value,"onUpdate:modelValue":a[2]||(a[2]=z=>f.value=z),onAdd:$},null,8,["modelValue"]),p(ao,{modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=z=>v.value=z),onUnload:N,onLoad:re},null,8,["modelValue"]),r("div",ko,[p(Ke)])])}}}),Vo=K(So,[["__scopeId","data-v-80e75082"]]);export{Vo as default};
